{% extends "base.html" %}

{% block title %}Submit New Complaint{% endblock %}

{% block content %}
<div class="card" style="max-width: 800px; margin: 2rem auto;">
    <h2 style="text-align: center; margin-bottom: 2rem; color: #667eea;">Submit New Complaint</h2>
    
    <form method="POST" action="{{ url_for('new_complaint') }}">
        <div class="form-group">
            <label for="title">Complaint Title *</label>
            <input type="text" id="title" name="title" class="form-control" required 
                   placeholder="Brief description of the issue">
        </div>
        
        <div class="form-group">
            <label for="category">Category *</label>
            <select id="category" name="category" class="form-control" required>
                <option value="">-- Select Category --</option>
                {% for cat in categories %}
                    <option value="{{ cat }}">{{ cat }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="priority">Priority Level *</label>
            <select id="priority" name="priority" class="form-control" required>
                <option value="LOW">Low - Minor inconvenience</option>
                <option value="MEDIUM" selected>Medium - Moderate impact</option>
                <option value="HIGH">High - Significant impact</option>
                <option value="CRITICAL">Critical - Urgent attention needed</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="location">Location</label>
            <input type="text" id="location" name="location" class="form-control" 
                   placeholder="Street, neighborhood, or landmark">
        </div>
        
        <div class="form-group">
            <label for="description">Detailed Description *</label>
            <textarea id="description" name="description" class="form-control" rows="6" required
                      placeholder="Please provide as much detail as possible about the issue, including when it started and any other relevant information."></textarea>
        </div>
        
        <div style="display: flex; gap: 1rem;">
            <button type="submit" class="btn btn-primary" style="flex: 1;">Submit Complaint</button>
            <a href="{{ url_for('user_dashboard') }}" class="btn" style="flex: 1; background: #e9ecef; color: #333; text-align: center;">Cancel</a>
        </div>
    </form>
</div>

<div class="card" style="max-width: 800px; margin: 2rem auto; background: #f8f9fa;">
    <h3 style="color: #667eea; margin-bottom: 1rem;">ðŸ’¡ Tips for Effective Complaints</h3>
    <ul style="line-height: 2;">
        <li>Be specific and provide clear details</li>
        <li>Include location information if applicable</li>
        <li>Select the appropriate category and priority</li>
        <li>Attach any relevant evidence if possible</li>
        <li>Check back regularly for updates</li>
    </ul>
</div>
{% endblock %}